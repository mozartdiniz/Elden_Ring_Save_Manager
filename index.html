<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';">
    <title>Elden Ring Save Manager</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <header class="header">
            <h1>‚öîÔ∏è Elden Ring Save Manager</h1>
            <p class="subtitle">Manage your Elden Ring save files with ease</p>
        </header>

        <main class="main-content">
            <!-- File Selection Section -->
            <div class="file-section">
                <div class="file-card">
                    <h3>üìÅ Source Save File</h3>
                    <div class="file-info">
                        <span id="source-file-name" class="file-name">No file selected</span>
                        <button id="load-source-btn" class="btn btn-primary">Load Source</button>
                    </div>
                    <div id="source-file-details" class="file-details hidden"></div>
                </div>

                <div class="file-card">
                    <h3>üìÅ Target Save File</h3>
                    <div class="file-info">
                        <span id="target-file-name" class="file-name">No file selected</span>
                        <button id="load-target-btn" class="btn btn-primary">Load Target</button>
                    </div>
                    <div id="target-file-details" class="file-details hidden"></div>
                </div>
            </div>

            <!-- Save Management Section -->
            <div class="saves-section">
                <div class="saves-card">
                    <h3>üíæ Source Saves</h3>
                    <div id="source-saves-list" class="saves-list">
                        <p class="no-saves">Load a source file to view saves</p>
                    </div>
                </div>

                <div class="saves-card">
                    <h3>üíæ Target Saves</h3>
                    <div id="target-saves-list" class="saves-list">
                        <p class="no-saves">Load a target file to view saves</p>
                    </div>
                </div>
            </div>

            <!-- Actions Section -->
            <div class="actions-section">
                <div class="actions-card">
                    <h3>üîß Actions</h3>
                    <div class="button-group">
                        <button id="copy-save-btn" class="btn btn-success" disabled>Copy Save</button>
                        <button id="extract-save-btn" class="btn btn-accent" disabled>Extract Save</button>
                        <button id="advanced-stats-btn" class="btn btn-primary" disabled>Advanced Character
                            Stats</button>
                        <button id="refresh-btn" class="btn btn-secondary">Refresh</button>
                    </div>
                    <div id="status-area" class="status-area"></div>
                </div>
            </div>

            <!-- Copy Dialog -->
            <div id="copy-dialog" class="dialog hidden">
                <div class="dialog-content">
                    <h3>Copy Save</h3>
                    <p>Select source save slot:</p>
                    <div id="source-slot-selection" class="slot-selection"></div>
                    <p>Select target save slot:</p>
                    <div id="target-slot-selection" class="slot-selection"></div>
                    <div class="dialog-buttons">
                        <button id="confirm-copy-btn" class="btn btn-success">Copy</button>
                        <button id="cancel-copy-btn" class="btn btn-secondary">Cancel</button>
                    </div>
                </div>
            </div>

            <!-- Extract Dialog -->
            <div id="extract-dialog" class="dialog hidden">
                <div class="dialog-content">
                    <h3>Extract Save</h3>
                    <p>Select save slot to extract:</p>
                    <div id="extract-slot-selection" class="slot-selection"></div>
                    <div class="dialog-buttons">
                        <button id="confirm-extract-btn" class="btn btn-accent">Extract</button>
                        <button id="cancel-extract-btn" class="btn btn-secondary">Cancel</button>
                    </div>
                </div>
            </div>

            <!-- Advanced Character Stats Dialog -->
            <div id="stats-dialog" class="dialog hidden">
                <div class="dialog-content stats-dialog-content">
                    <h3>Advanced Character Stats</h3>

                    <div class="stats-header">
                        <div class="character-info">
                            <div class="character-name-section">
                                <label for="character-name-input">Character Name:</label>
                                <input type="text" id="character-name-input" class="character-name-input" maxlength="15"
                                    placeholder="Character Name">
                            </div>
                            <span id="character-level" class="character-level">Level: 0</span>
                        </div>
                        <div class="stats-options">
                            <label><input type="checkbox" id="god-mode-check"> God Mode (60,000 HP/FP/Stamina)</label>
                            <label><input type="checkbox" id="auto-calc-check" checked> Auto-calculate
                                HP/FP/Stamina</label>
                        </div>
                    </div>

                    <div class="stats-container">
                        <div class="stats-grid">
                            <div class="stat-row">
                                <label for="vigor-input">Vigor:</label>
                                <input type="number" id="vigor-input" class="stat-input" min="1" max="99" value="10">
                                <span id="vigor-hp" class="stat-display">HP: 0</span>
                            </div>
                            <div class="stat-row">
                                <label for="mind-input">Mind:</label>
                                <input type="number" id="mind-input" class="stat-input" min="1" max="99" value="10">
                                <span id="mind-fp" class="stat-display">FP: 0</span>
                            </div>
                            <div class="stat-row">
                                <label for="endurance-input">Endurance:</label>
                                <input type="number" id="endurance-input" class="stat-input" min="1" max="99"
                                    value="11">
                                <span id="endurance-stamina" class="stat-display">Stamina: 0</span>
                            </div>
                            <div class="stat-row">
                                <label for="strength-input">Strength:</label>
                                <input type="number" id="strength-input" class="stat-input" min="1" max="99" value="12">
                            </div>
                            <div class="stat-row">
                                <label for="dexterity-input">Dexterity:</label>
                                <input type="number" id="dexterity-input" class="stat-input" min="1" max="99"
                                    value="13">
                            </div>
                            <div class="stat-row">
                                <label for="intelligence-input">Intelligence:</label>
                                <input type="number" id="intelligence-input" class="stat-input" min="1" max="99"
                                    value="9">
                            </div>
                            <div class="stat-row">
                                <label for="faith-input">Faith:</label>
                                <input type="number" id="faith-input" class="stat-input" min="1" max="99" value="9">
                            </div>
                            <div class="stat-row">
                                <label for="arcane-input">Arcane:</label>
                                <input type="number" id="arcane-input" class="stat-input" min="1" max="99" value="7">
                            </div>
                        </div>
                    </div>

                    <div class="stats-summary">
                        <div class="level-info">
                            <span>Total Level: <span id="total-level">0</span></span>
                            <span class="level-change" id="level-change"></span>
                        </div>
                    </div>

                    <div class="dialog-buttons">
                        <button id="save-stats-btn" class="btn btn-success">Save</button>
                        <button id="reset-stats-btn" class="btn btn-secondary">Reset</button>
                        <button id="cancel-stats-btn" class="btn btn-secondary">Cancel</button>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>Built for Elden Ring save management</p>
            <p class="version">Version 1.0.0</p>
        </footer>
    </div>

    <script src="renderer.js"></script>
</body>

</html>